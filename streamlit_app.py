import streamlit as st
import pandas as pd
import numpy as np

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(
    page_title="–≠–≤–∞–∫GPT",
    page_icon="üî•",
    layout="wide"
)

# –°—Ç–∏–ª–∏ CSS –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
st.markdown("""
<style>
    .header {
        font-size: 24px;
        font-weight: bold;
        color: #FF4B4B;
        margin-bottom: 10px;
    }
    .subheader {
        font-size: 18px;
        font-weight: bold;
        color: #FF4B4B;
        margin-top: 20px;
        margin-bottom: 10px;
    }
    .warning {
        background-color: #FFF3CD;
        padding: 10px;
        border-radius: 5px;
        border-left: 5px solid #FFC107;
        margin: 10px 0;
    }
    .danger {
        background-color: #F8D7DA;
        padding: 10px;
        border-radius: 5px;
        border-left: 5px solid #DC3545;
        margin: 10px 0;
    }
    .info-box {
        border: 1px solid #D3D3D3;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
    }
    .divider {
        border-top: 2px dashed #D3D3D3;
        margin: 20px 0;
    }
</style>
""", unsafe_allow_html=True)

# --- –í–ò–ó–£–ê–õ–¨–ù–û–ï –û–§–û–†–ú–õ–ï–ù–ò–ï –ü–û–î –ú–ê–ö–ï–¢ ---

# –ö—Ä—É–ø–Ω–∞—è —à–∞–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π –∏ —Ü–≤–µ—Ç–æ–º
st.markdown(
    '''<div style="display: flex; align-items: center; gap: 20px; margin-bottom: 0;">
        <span style="font-size: 48px;">üî•</span>
        <span style="font-size: 38px; font-weight: bold; color: #FF4B4B; letter-spacing: 2px;">–≠–≤–∞–∫GPT</span>
    </div>''',
    unsafe_allow_html=True
)

st.markdown('<div style="font-size: 20px; color: #444; margin-bottom: 30px;">–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ü–µ–Ω–∫–∏ —É—Ä–æ–≤–Ω—è –ø–æ–∂–∞—Ä–Ω–æ–π –æ–ø–∞—Å–Ω–æ—Å—Ç–∏</div>', unsafe_allow_html=True)

# --- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ---

st.markdown('<div style="height: 20px;"></div>', unsafe_allow_html=True)

st.markdown('<div style="font-size: 28px; font-weight: bold; color: #222; margin-bottom: 20px;">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏</div>', unsafe_allow_html=True)

# Sidebar
with st.sidebar:
    st.header("–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—ä–µ–∫—Ç–∞")

    object_address = st.text_input("–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞:")
    building_purpose = st.selectbox(
        "–ö–ª–∞—Å—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–∂–∞—Ä–Ω–æ–π –æ–ø–∞—Å–Ω–æ—Å—Ç–∏:", 
        [
            "–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å",
            "–§1.1 - –∑–¥–∞–Ω–∏—è –¥–æ—à–∫–æ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π",
            "–§1.1 - —Å–ø–∞–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –Ω–∞–ª–∏—á–∏–µ–º –∏–Ω—Ç–µ—Ä–Ω–∞—Ç–∞ –∏ –¥–µ—Ç—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π",
            "–§1.1 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–∞ –¥–ª—è –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö",
            "–§1.1 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–∞ –∏–Ω–≤–∞–ª–∏–¥–æ–≤",
            "–§1.1 - –±–æ–ª—å–Ω–∏—Ü—ã",
            "–§1.2 - –≥–æ—Å—Ç–∏–Ω–∏—Ü—ã, –æ–±—â–µ–∂–∏—Ç–∏—è (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ–±—â–µ–∂–∏—Ç–∏–π –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞), —Å–ø–∞–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ —Å–∞–Ω–∞—Ç–æ—Ä–∏–µ–≤ –∏ –¥–æ–º–æ–≤ –æ—Ç–¥—ã—Ö–∞ –æ–±—â–µ–≥–æ —Ç–∏–ø–∞, –∫–µ–º–ø–∏–Ω–≥–æ–≤",
            "–§1.3 - –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –æ–±—â–µ–∂–∏—Ç–∏—è –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞",
            "–§1.4 - –æ–¥–Ω–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ",
            "–§2.1, –§2.3 - –¥–µ—Ç—Å–∫–∏–µ —Ç–µ–∞—Ç—Ä—ã, —Ü–∏—Ä–∫–∏",
            "–§2.1, –§2.3 - —Ç–µ–∞—Ç—Ä—ã, –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä—ã, –∫–æ–Ω—Ü–µ—Ä—Ç–Ω—ã–µ –∑–∞–ª—ã, –∫–ª—É–±—ã, —Ü–∏—Ä–∫–∏, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è —Å —Ç—Ä–∏–±—É–Ω–∞–º–∏",
            "–§2.1, –§2.3 - –±–∏–±–ª–∏–æ—Ç–µ–∫–∏",
            "–§2.2, –§2.4 - —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ –∑–∞–ª—ã",
            "–§2.2, –§2.4 - –º—É–∑–µ–∏, –≤—ã—Å—Ç–∞–≤–∫–∏",
            "–§3.1 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Ç–æ—Ä–≥–æ–≤–ª–∏",
            "–§3.2 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è",
            "–§3.3 - –≤–æ–∫–∑–∞–ª—ã",
            "–§3.4 - –∑–¥–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –∞–º–±—É–ª–∞—Ç–æ—Ä–∏–∏ –∏ —Ç.–¥.) –¥–ª—è –≤—Ö—Ä–æ—Å–ª—ã—Ö –ª—é–¥–µ–π",
            "–§3.4 - –∑–¥–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –∞–º–±—É–ª–∞—Ç–æ—Ä–∏–∏ –∏ —Ç.–¥.) –¥–ª—è –¥–µ—Ç–µ–π –∏ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤",
            "–§3.5 - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±—ã—Ç–æ–≤–æ–≥–æ –∏ –∫–æ–º–º—É–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è",
            "–§3.6 - —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–µ–π",
            "–§3.6 - —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è (–¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö) —Å –ø–æ–º–µ—â–µ–Ω–∏—è–º–∏ –±–µ–∑ —Ç—Ä–∏–±—É–Ω –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π, –±—ã—Ç–æ–≤—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –±–∞–Ω–∏",
            "–§3.7 - –∑–¥–∞–Ω–∏—è –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫—É–ª—å—Ç–æ–≤–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è",
            "–§4.1 - –∑–¥–∞–Ω–∏—è –æ–±—â–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–µ—Ç–µ–π –∏ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤",
            "–§4.2 - –∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è",
            "–§4.3 - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–¥–∞–Ω–∏—è, –∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–Ω–æ-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω–æ-–∏–∑–¥–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –Ω–∞—É—á–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –±–∞–Ω–∫–æ–≤, –∫–æ–Ω—Ç–æ—Ä, –æ—Ñ–∏—Å–æ–≤",
            "–§4.4 - –∑–¥–∞–Ω–∏—è –ø–æ–∂–∞—Ä–Ω—ã—Ö –¥–µ–ø–æ",
            "–§5.1 - –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è, —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ, –∫—Ä–µ–º–∞—Ç–æ—Ä–∏–∏",
            "–§5.2 - —Å–∫–ª–∞–¥—Å–∫–∏–µ –∑–¥–∞–Ω–∏—è, —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è, –∫–Ω–∏–≥–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∞—Ä—Ö–∏–≤—ã",
            "–§5.2 - –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–æ—è—â–µ–µ –∑–¥–∞–Ω–∏–µ —Å—Ç–æ—è–Ω–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ —Ä–µ–º–æ–Ω—Ç–∞",
        ]
    )
    building_floors = st.number_input("–≠—Ç–∞–∂–Ω–æ—Å—Ç—å –∑–¥–∞–Ω–∏—è:", min_value=1, step=1)

    automation_state = st.radio(
        "–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏:",
        ["—Å–∏—Å—Ç–µ–º—ã —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è", "—Å–∏—Å—Ç–µ–º—ã –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è"]
    )

    evacuation_routes_state = st.radio(
        "–°–æ—Å—Ç–æ—è–Ω–∏–µ —ç–≤–∞–∫—É–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π –∏ –≤—ã—Ö–æ–¥–æ–≤:",
        ["–∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã", "–Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã"]
    )

    training_state = st.radio(
        "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —É—á–µ–±–Ω—ã—Ö —ç–≤–∞–∫—É–∞—Ü–∏–π –∏ –æ–±—É—á–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è–º –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ:",
        ["–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É", "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ä–µ–¥–∫–æ, –Ω–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è"]
    )

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –±–∞–∑–æ–≤—ã—Ö –≤—Ä–µ–º–µ–Ω –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ 
BASE_EVAC_TIME = {
    "–§1.1 - –∑–¥–∞–Ω–∏—è –¥–æ—à–∫–æ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π": 4.0,
    "–§1.1 - —Å–ø–∞–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –Ω–∞–ª–∏—á–∏–µ–º –∏–Ω—Ç–µ—Ä–Ω–∞—Ç–∞ –∏ –¥–µ—Ç—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π": 4.0,
    "–§1.1 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–∞ –¥–ª—è –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö": 4.0,
    "–§1.1 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–∞ –∏–Ω–≤–∞–ª–∏–¥–æ–≤": 4.0,
    "–§1.1 - –±–æ–ª—å–Ω–∏—Ü—ã": 4.0,
    "–§1.2 - –≥–æ—Å—Ç–∏–Ω–∏—Ü—ã, –æ–±—â–µ–∂–∏—Ç–∏—è (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ–±—â–µ–∂–∏—Ç–∏–π –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞), —Å–ø–∞–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ —Å–∞–Ω–∞—Ç–æ—Ä–∏–µ–≤ –∏ –¥–æ–º–æ–≤ –æ—Ç–¥—ã—Ö–∞ –æ–±—â–µ–≥–æ —Ç–∏–ø–∞, –∫–µ–º–ø–∏–Ω–≥–æ–≤": 9.0,
    "–§1.3 - –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –æ–±—â–µ–∂–∏—Ç–∏—è –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞": 9.0,
    "–§1.4 - –æ–¥–Ω–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ": 9.0,
    "–§2.1, –§2.3 - –¥–µ—Ç—Å–∫–∏–µ —Ç–µ–∞—Ç—Ä—ã, —Ü–∏—Ä–∫–∏": 3.5,
    "–§2.1, –§2.3 - —Ç–µ–∞—Ç—Ä—ã, –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä—ã, –∫–æ–Ω—Ü–µ—Ä—Ç–Ω—ã–µ –∑–∞–ª—ã, –∫–ª—É–±—ã, —Ü–∏—Ä–∫–∏, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è —Å —Ç—Ä–∏–±—É–Ω–∞–º–∏": 3.5,
    "–§2.1, –§2.3 - –±–∏–±–ª–∏–æ—Ç–µ–∫–∏": 3.5,
    "–§2.2, –§2.4 - —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ –∑–∞–ª—ã": 3.5,
    "–§2.2, –§2.4 - –º—É–∑–µ–∏, –≤—ã—Å—Ç–∞–≤–∫–∏": 3.5,
    "–§3.1 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Ç–æ—Ä–≥–æ–≤–ª–∏": 3.5,
    "–§3.2 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è": 3.5,
    "–§3.3 - –≤–æ–∫–∑–∞–ª—ã": 3.5,
    "–§3.4 - –∑–¥–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –∞–º–±—É–ª–∞—Ç–æ—Ä–∏–∏ –∏ —Ç.–¥.) –¥–ª—è –≤—Ö—Ä–æ—Å–ª—ã—Ö –ª—é–¥–µ–π": 3.5,
    "–§3.4 - –∑–¥–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –∞–º–±—É–ª–∞—Ç–æ—Ä–∏–∏ –∏ —Ç.–¥.) –¥–ª—è –¥–µ—Ç–µ–π –∏ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤": 6.0,
    "–§3.5 - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±—ã—Ç–æ–≤–æ–≥–æ –∏ –∫–æ–º–º—É–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è": 3.5,
    "–§3.6 - —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–µ–π": 6.0,
    "–§3.6 - —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è (–¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö) —Å –ø–æ–º–µ—â–µ–Ω–∏—è–º–∏ –±–µ–∑ —Ç—Ä–∏–±—É–Ω –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π, –±—ã—Ç–æ–≤—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –±–∞–Ω–∏": 6.0,
    "–§3.7 - –∑–¥–∞–Ω–∏—è –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫—É–ª—å—Ç–æ–≤–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è": 3.5,
    "–§4.1 - –∑–¥–∞–Ω–∏—è –æ–±—â–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–µ—Ç–µ–π –∏ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤": 6.0,
    "–§4.2 - –∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è": 6.0,
    "–§4.3 - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–¥–∞–Ω–∏—è, –∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–Ω–æ-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω–æ-–∏–∑–¥–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –Ω–∞—É—á–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –±–∞–Ω–∫–æ–≤, –∫–æ–Ω—Ç–æ—Ä, –æ—Ñ–∏—Å–æ–≤": 6.0,
    "–§4.4 - –∑–¥–∞–Ω–∏—è –ø–æ–∂–∞—Ä–Ω—ã—Ö –¥–µ–ø–æ": 3.5,
    "–§5.1 - –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è, —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ, –∫—Ä–µ–º–∞—Ç–æ—Ä–∏–∏": 6.0,
    "–§5.2 - —Å–∫–ª–∞–¥—Å–∫–∏–µ –∑–¥–∞–Ω–∏—è, —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è, –∫–Ω–∏–≥–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∞—Ä—Ö–∏–≤—ã": 6.0,
    "–§5.2 - –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–æ—è—â–µ–µ –∑–¥–∞–Ω–∏–µ —Å—Ç–æ—è–Ω–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ —Ä–µ–º–æ–Ω—Ç–∞": 3.5,
}

def apply_floor_correction(base_time, floors):
    if base_time < 5:
        return base_time + 0.5
    elif 5 <= base_time < 10:
        return base_time + 1.5
    elif 10 <= base_time < 15:
        return base_time + 2.5
    elif 15 <= base_time < 20:
        return base_time + 3.5
    elif 20 <= base_time < 25:
        return base_time + 4.5
    elif 25 <= base_time < 30:
        return base_time + 5.5
    else:
        return "–£—Ç–æ—á–Ω–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"

def calculate_standard_evacuation_time(building_type, floors, linked_type=None):
    # 1. –°—á–∏—Ç–∞–µ–º –±–∞–∑–æ–≤–æ–µ –≤—Ä–µ–º—è –ø–æ –∫–ª–∞—Å—Å—É
    if building_type == "–§1.1 - –∑–¥–∞–Ω–∏—è –¥–æ—à–∫–æ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π":
        base = 4 + 0.55 + (floors - 1) * 0.61
    elif building_type == "–§1.1 - —Å–ø–∞–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –Ω–∞–ª–∏—á–∏–µ–º –∏–Ω—Ç–µ—Ä–Ω–∞—Ç–∞ –∏ –¥–µ—Ç—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π":
        base = 4 + 1.58 + (floors - 1) * 0.45
    elif building_type == "–§1.1 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–∞ –¥–ª—è –ø—Ä–µ—Å—Ç–∞—Ä–µ–ª—ã—Ö":
        base = 4 + 2.58 + (floors - 1) * 1.13
    elif building_type == "–§1.1 - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–∞ –∏–Ω–≤–∞–ª–∏–¥–æ–≤":
        base = 4 + 2.44 + (floors - 1) * 0.89
    elif building_type == "–§1.1 - –±–æ–ª—å–Ω–∏—Ü—ã":
        base = 4 + 2.44 + (floors - 1) * 0.89
    elif building_type == "–§1.2 - –≥–æ—Å—Ç–∏–Ω–∏—Ü—ã, –æ–±—â–µ–∂–∏—Ç–∏—è (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ–±—â–µ–∂–∏—Ç–∏–π –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞), —Å–ø–∞–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ —Å–∞–Ω–∞—Ç–æ—Ä–∏–µ–≤ –∏ –¥–æ–º–æ–≤ –æ—Ç–¥—ã—Ö–∞ –æ–±—â–µ–≥–æ —Ç–∏–ø–∞, –∫–µ–º–ø–∏–Ω–≥–æ–≤":
        base = 9 + 1.33 + (floors - 1) * 0.26
    elif building_type == "–§1.3 - –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –æ–±—â–µ–∂–∏—Ç–∏—è –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞":
        base = 9 + 0.59 + (floors - 1) * 0.4
    elif building_type == "–§1.4 - –æ–¥–Ω–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ":
        base = 9 + 0.59
    elif building_type == "–§2.1, –§2.3 - –¥–µ—Ç—Å–∫–∏–µ —Ç–µ–∞—Ç—Ä—ã, —Ü–∏—Ä–∫–∏":
        base = 3.5 + 3.12 + (floors - 1) * 1.58
    elif building_type == "–§2.1, –§2.3 - —Ç–µ–∞—Ç—Ä—ã, –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä—ã, –∫–æ–Ω—Ü–µ—Ä—Ç–Ω—ã–µ –∑–∞–ª—ã, –∫–ª—É–±—ã, —Ü–∏—Ä–∫–∏, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è —Å —Ç—Ä–∏–±—É–Ω–∞–º–∏":
        base = 3.5 + 3.34 + (floors - 1) * 1.82
    elif building_type == "–§2.1, –§2.3 - –±–∏–±–ª–∏–æ—Ç–µ–∫–∏":
        base = 3.5 + 1.06 + (floors - 1) * 0.24
    elif building_type == "–§2.2, –§2.4 - —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ –∑–∞–ª—ã":
        base = 3.5 + 2.65 + (floors - 1) * 1.03
    elif building_type == "–§2.2, –§2.4 - –º—É–∑–µ–∏, –≤—ã—Å—Ç–∞–≤–∫–∏":
        base = 3.5 + 3.34 + (floors - 1) * 1.82
    elif building_type == "–§3.1 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Ç–æ—Ä–≥–æ–≤–ª–∏":
        base = 3.5 + 3.34 + (floors - 1) * 1.82
    elif building_type == "–§3.2 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è":
        base = 3.5 + 3.34 + (floors - 1) * 1.82
    elif building_type == "–§3.3 - –≤–æ–∫–∑–∞–ª—ã":
        base = 3.5 + 3.34 + (floors - 1) * 1.82
    elif building_type == "–§3.4 - –∑–¥–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –∞–º–±—É–ª–∞—Ç–æ—Ä–∏–∏ –∏ —Ç.–¥.) –¥–ª—è –≤—Ö—Ä–æ—Å–ª—ã—Ö –ª—é–¥–µ–π":
        base = 3.5 + 1.59 + (floors - 1) * 0.42
    elif building_type == "–§3.4 - –∑–¥–∞–Ω–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–ø–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –∞–º–±—É–ª–∞—Ç–æ—Ä–∏–∏ –∏ —Ç.–¥.) –¥–ª—è –¥–µ—Ç–µ–π –∏ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤":
        base = 6 + 1.7 + (floors - 1) * 0.49
    elif building_type == "–§3.5 - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±—ã—Ç–æ–≤–æ–≥–æ –∏ –∫–æ–º–º—É–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è":
        base = 3.5 + 1.77 + (floors - 1) * 0.55
    elif building_type == "–§3.6 - —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–µ–π":
        base = 6 + 3.12 + (floors - 1) * 1.58
    elif building_type == "–§3.6 - —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è (–¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö) —Å –ø–æ–º–µ—â–µ–Ω–∏—è–º–∏ –±–µ–∑ —Ç—Ä–∏–±—É–Ω –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π, –±—ã—Ç–æ–≤—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –±–∞–Ω–∏":
        base = 6 + 2.87 + (floors - 1) * 1.34
    elif building_type == "–§3.7 - –∑–¥–∞–Ω–∏—è –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ–≥–æ –∫—É–ª—å—Ç–æ–≤–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è":
        base = 3.5 + 5.29 + (floors - 1) * 2
    elif building_type == "–§4.1 - –∑–¥–∞–Ω–∏—è –æ–±—â–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–µ—Ç–µ–π –∏ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤":
        base = 6 + 1.58 + (floors - 1) * 0.45
    elif building_type == "–§4.2 - –∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è":
        base = 6 + 1.53 + (floors - 1) * 0.3
    elif building_type == "–§4.3 - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–¥–∞–Ω–∏—è, –∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–Ω–æ-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω–æ-–∏–∑–¥–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –Ω–∞—É—á–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –±–∞–Ω–∫–æ–≤, –∫–æ–Ω—Ç–æ—Ä, –æ—Ñ–∏—Å–æ–≤":
        base = 6 + 1.53 + (floors - 1) * 0.32
    elif building_type == "–§4.4 - –∑–¥–∞–Ω–∏—è –ø–æ–∂–∞—Ä–Ω—ã—Ö –¥–µ–ø–æ":
        base = 3.5 + 1.06 + (floors - 1) * 0.32
    elif building_type == "–§5.1 - –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è, —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ, –∫—Ä–µ–º–∞—Ç–æ—Ä–∏–∏":
        base = 6 + 1.01 + (floors - 1) * 0.19
    elif building_type == "–§5.2 - —Å–∫–ª–∞–¥—Å–∫–∏–µ –∑–¥–∞–Ω–∏—è, —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è, –∫–Ω–∏–≥–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∞—Ä—Ö–∏–≤—ã":
        base = 6 + 1.01 + (floors - 1) * 0.19
    elif building_type == "–§5.2 - –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–æ—è—â–µ–µ –∑–¥–∞–Ω–∏–µ —Å—Ç–æ—è–Ω–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ —Ä–µ–º–æ–Ω—Ç–∞":
        base = 3.5 + 3.34 + (floors - 1) * 0.19
    elif building_type == "–§5.2 - —Å—Ç–æ—è–Ω–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ —Ä–µ–º–æ–Ω—Ç–∞, –æ—Ç–Ω–æ—Å—è—â–∞—è—Å—è –∫ –æ–±—ä–µ–∫—Ç—É –¥—Ä—É–≥–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è":
        if linked_type == "–§1.2 - –≥–æ—Å—Ç–∏–Ω–∏—Ü—ã, –æ–±—â–µ–∂–∏—Ç–∏—è (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ–±—â–µ–∂–∏—Ç–∏–π –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞), —Å–ø–∞–ª—å–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞ —Å–∞–Ω–∞—Ç–æ—Ä–∏–µ–≤ –∏ –¥–æ–º–æ–≤ –æ—Ç–¥—ã—Ö–∞ –æ–±—â–µ–≥–æ —Ç–∏–ø–∞, –∫–µ–º–ø–∏–Ω–≥–æ–≤":
            base = 3.5 + 3.34 + (floors - 1) * 0.26
        elif linked_type == "–§1.3 - –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –æ–±—â–µ–∂–∏—Ç–∏—è –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ —Ç–∏–ø–∞":
            base = 3.5 + 5.29 + (floors - 1) * 0.4
        elif linked_type == "–§2.1, –§2.3 - —Ç–µ–∞—Ç—Ä—ã, –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä—ã, –∫–æ–Ω—Ü–µ—Ä—Ç–Ω—ã–µ –∑–∞–ª—ã, –∫–ª—É–±—ã, —Ü–∏—Ä–∫–∏, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è —Å —Ç—Ä–∏–±—É–Ω–∞–º–∏":
            base = 3.5 + 1.33 + (floors - 1) * 1.82
        elif linked_type == "–§3.1 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Ç–æ—Ä–≥–æ–≤–ª–∏":
            base = 3.5 + 3.34 + (floors - 1) * 1.82
        elif linked_type == "–§3.2 - –∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è":
            base = 3.5 + 3.34 + (floors - 1) * 1.82
        elif linked_type == "–§3.6 - —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–Ω–æ-–æ–∑–¥–æ—Ä–æ–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è (–¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö) —Å –ø–æ–º–µ—â–µ–Ω–∏—è–º–∏ –±–µ–∑ —Ç—Ä–∏–±—É–Ω –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π, –±—ã—Ç–æ–≤—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –±–∞–Ω–∏":
            base = 3.5 + 2.87 + (floors - 1) * 1.34
        elif linked_type == "–§4.3 - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∑–¥–∞–Ω–∏—è, –∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–Ω–æ-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω–æ-–∏–∑–¥–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –Ω–∞—É—á–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –±–∞–Ω–∫–æ–≤, –∫–æ–Ω—Ç–æ—Ä, –æ—Ñ–∏—Å–æ–≤":
            base = 3.5 + 1.53 + (floors - 1) * 0.32
        elif linked_type == "–§5.1 - –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è, —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è, –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ, –∫—Ä–µ–º–∞—Ç–æ—Ä–∏–∏":
            base = 3.5 + 1.01 + (floors - 1) * 0.32
        else:
            return "–£—Ç–æ—á–Ω–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
    else:
        return "–£—Ç–æ—á–Ω–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
    
    # 2. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É —ç—Ç–∞–∂–Ω–æ—Å—Ç–∏
    return apply_floor_correction(base, floors)

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —ç–≤–∞–∫—É–∞—Ü–∏–∏
def calculate_predicted_evacuation_time(standard_time, automation_status, evacuation_status, training_status):
    # –ë–∞–∑–æ–≤–æ–µ –≤—Ä–µ–º—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏
    if automation_status == "—Å–∏—Å—Ç–µ–º—ã —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è":
        predicted_time = standard_time
    else:
        predicted_time = standard_time * 1.25
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º—è –∑–∞ –∑–∞–≥—Ä–æ–º–æ–∂–¥—ë–Ω–Ω—ã–µ –ø—É—Ç–∏
    if evacuation_status == "–∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã":
        predicted_time += standard_time * 0.25
    
    # –î–æ–±–∞–≤–ª—è–µ–º –≤—Ä–µ–º—è –∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
    if training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ä–µ–¥–∫–æ, –Ω–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è":
        predicted_time += standard_time * 0.25
    
    return predicted_time

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
def determine_danger_level(standard_time, predicted_time):
    ratio = predicted_time / standard_time
    
    if ratio == 1:
        return "–î–æ–ø—É—Å—Ç–∏–º—ã–π"
    elif ratio <= 1.25:
        return "–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π"
    elif ratio <= 1.5:
        return "–í—ã—Å–æ–∫–∏–π"
    elif ratio <= 1.75:
        return "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π"
    else:
        return "–£—Ç–æ—á–Ω–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
def determine_recommended_actions(automation_status, evacuation_status, training_status, danger_level):
    if (automation_status == "—Å–∏—Å—Ç–µ–º—ã —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
        evacuation_status == "–Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
        training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É"):
        return "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é –æ–±—ä–µ–∫—Ç–∞ –∑–∞—â–∏—Ç—ã"
    
    elif (automation_status == "—Å–∏—Å—Ç–µ–º—ã –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
          evacuation_status == "–Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
          training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É"):
        return "–û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–ª–∞–Ω–æ–≤–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω–æ–π –∑–∞—â–∏—Ç—ã"
    
    elif (automation_status == "—Å–∏—Å—Ç–µ–º—ã —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
          evacuation_status == "–∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
          training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É"):
        return "–û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ—Å–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ª—é–¥–µ–π –ø–æ –ø—É—Ç—è–º —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ —á–µ—Ä–µ–∑ —ç–≤–∞–∫—É–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥—ã"
    
    elif (automation_status == "—Å–∏—Å—Ç–µ–º—ã —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
          evacuation_status == "–Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
          training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ä–µ–¥–∫–æ, –Ω–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è"):
        return "–û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ –æ–±—É—á–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è–º –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ"
    
    elif (automation_status == "—Å–∏—Å—Ç–µ–º—ã –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
          evacuation_status == "–∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
          training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É"):
        return "1) –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–ª–∞–Ω–æ–≤–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω–æ–π –∑–∞—â–∏—Ç—ã; 2) –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ—Å–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ª—é–¥–µ–π –ø–æ –ø—É—Ç—è–º —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ —á–µ—Ä–µ–∑ —ç–≤–∞–∫—É–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥—ã"
    
    elif (automation_status == "—Å–∏—Å—Ç–µ–º—ã –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
          evacuation_status == "–Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
          training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ä–µ–¥–∫–æ, –Ω–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è"):
        return "1) –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–ª–∞–Ω–æ–≤–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω–æ–π –∑–∞—â–∏—Ç—ã; 2) –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ –æ–±—É—á–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è–º –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ"
    
    elif (automation_status == "—Å–∏—Å—Ç–µ–º—ã —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
          evacuation_status == "–∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
          training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ä–µ–¥–∫–æ, –Ω–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è"):
        return "1) –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ—Å–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ª—é–¥–µ–π –ø–æ –ø—É—Ç—è–º —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ —á–µ—Ä–µ–∑ —ç–≤–∞–∫—É–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥—ã; 2) –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ –æ–±—É—á–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è–º –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ"
    
    elif (automation_status == "—Å–∏—Å—Ç–µ–º—ã –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è" and 
          evacuation_status == "–∑–∞–≥—Ä–æ–º–æ–∂–¥–µ–Ω—ã" and 
          training_status == "–ü—Ä–æ–≤–æ–¥—è—Ç—Å—è —Ä–µ–¥–∫–æ, –Ω–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è"):
        return "1) –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–ª–∞–Ω–æ–≤–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω–æ–π –∑–∞—â–∏—Ç—ã; 2) –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ—Å–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ª—é–¥–µ–π –ø–æ –ø—É—Ç—è–º —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ —á–µ—Ä–µ–∑ —ç–≤–∞–∫—É–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤—ã—Ö–æ–¥—ã; 3) –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ –æ–±—É—á–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è–º –ø—Ä–∏ –ø–æ–∂–∞—Ä–µ"
    
    else:
        return "–£—Ç–æ—á–Ω–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"

# Main content area

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–µ–¥–µ–Ω—ã
if building_purpose != "–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å" and building_floors > 0:
    # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —ç—Ç–∞–ª–æ–Ω–Ω–æ–µ –≤—Ä–µ–º—è —ç–≤–∞–∫—É–∞—Ü–∏–∏
    standard_time = calculate_standard_evacuation_time(building_purpose, building_floors)
    
    # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–µ –≤—Ä–µ–º—è —ç–≤–∞–∫—É–∞—Ü–∏–∏
    predicted_time = calculate_predicted_evacuation_time(
        standard_time,
        automation_state,
        evacuation_routes_state,
        training_state
    )
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    danger_level = determine_danger_level(standard_time, predicted_time)
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    recommended_actions = determine_recommended_actions(
        automation_state,
        evacuation_routes_state,
        training_state,
        danger_level
    )
    
    # –¶–≤–µ—Ç–∞ –¥–ª—è —É—Ä–æ–≤–Ω–µ–π
    danger_colors = {
        "–î–æ–ø—É—Å—Ç–∏–º—ã–π": "#4CAF50",
        "–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π": "#FFC107",
        "–í—ã—Å–æ–∫–∏–π": "#FF5722",
        "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π": "#D32F2F",
        "–£—Ç–æ—á–Ω–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ": "#757575"
    }
    color = danger_colors.get(danger_level, "#757575")

    # –ë–ª–æ–∫ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
    st.markdown(f'''
    <div style="display: flex; gap: 32px; margin-bottom: 32px;">
        <div style="flex:1; background: #f7f7f7; border-radius: 18px; padding: 32px 24px; box-shadow: 0 2px 8px #0001;">
            <div style="font-size: 18px; color: #888;">–≠—Ç–∞–ª–æ–Ω–Ω–æ–µ –≤—Ä–µ–º—è —ç–≤–∞–∫—É–∞—Ü–∏–∏</div>
            <div style="font-size: 36px; font-weight: bold; color: #222;">{standard_time:.2f} –º–∏–Ω</div>
        </div>
        <div style="flex:1; background: #f7f7f7; border-radius: 18px; padding: 32px 24px; box-shadow: 0 2px 8px #0001;">
            <div style="font-size: 18px; color: #888;">–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–µ –≤—Ä–µ–º—è —ç–≤–∞–∫—É–∞—Ü–∏–∏</div>
            <div style="font-size: 36px; font-weight: bold; color: #222;">{predicted_time:.2f} –º–∏–Ω</div>
        </div>
        <div style="flex:1; background: {color}22; border-radius: 18px; padding: 32px 24px; box-shadow: 0 2px 8px #0001; border: 2px solid {color};">
            <div style="font-size: 18px; color: #888;">–£—Ä–æ–≤–µ–Ω—å –ø–æ–∂–∞—Ä–Ω–æ–π –æ–ø–∞—Å–Ω–æ—Å—Ç–∏</div>
            <div style="font-size: 32px; font-weight: bold; color: {color};">{danger_level}</div>
        </div>
    </div>
    ''', unsafe_allow_html=True)

    # –ë–ª–æ–∫ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
    # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    if ";" in recommended_actions:
        actions_list = recommended_actions.split("; ")
        formatted_actions = ""
        for i, action in enumerate(actions_list):
            action_text = action.strip()
            if action_text.startswith(f"{i+1})"):
                action_text = action_text[3:].strip()
            formatted_actions += f'<div style="display: flex; align-items: flex-start; margin-bottom: 12px;"><span style="font-size: 20px; margin-right: 12px; color: #FF9800;">‚ö†Ô∏è</span><span style="font-size: 17px; color: #333; line-height: 1.5;">{action_text}</span></div>'
        st.markdown(
            f'<div style="background: #fffbe6; border-left: 8px solid #FFB300; border-radius: 12px; padding: 24px 28px; margin-bottom: 32px; box-shadow: 0 2px 8px #0001;">'
            f'<div style="font-size: 22px; font-weight: bold; color: #FF9800; margin-bottom: 16px;"><span style="font-size: 24px; margin-right: 8px;">‚ö°</span>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div>'
            f'{formatted_actions}'
            f'</div>',
            unsafe_allow_html=True
        )
    else:
        icon = "‚úÖ" if "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é" in recommended_actions else "‚ö†Ô∏è"
        bg_color = "#e8f5e9" if "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é" in recommended_actions else "#fffbe6"
        border_color = "#4CAF50" if "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é" in recommended_actions else "#FFB300"
        title_color = "#2E7D32" if "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é" in recommended_actions else "#FF9800"
        st.markdown(
            f'<div style="background: {bg_color}; border-left: 8px solid {border_color}; border-radius: 12px; padding: 24px 28px; margin-bottom: 32px; box-shadow: 0 2px 8px #0001;">'
            f'<div style="font-size: 22px; font-weight: bold; color: {title_color}; margin-bottom: 12px;"><span style="font-size: 24px; margin-right: 8px;">{icon}</span>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div>'
            f'<div style="font-size: 18px; color: #333; line-height: 1.5;">{recommended_actions}</div>'
            f'</div>',
            unsafe_allow_html=True
        )

else:
    st.markdown('<div style="color:#D32F2F; font-size:20px; margin-top:40px;">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –≤ —Å–∞–π–¥–±–∞—Ä–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.</div>', unsafe_allow_html=True)